Tech 
werkgroep 5
NodeJS:

HTTP:
Browser - request:
HTTP get ….html
V
200 = ok code

HTTP - request:
HTTP get ….css
V
200 ok

Get is opvragen
Post is sturen naar server

Main server codes:
200 = ok
404 = niet gevonden
500 = server error

Port:3000 is de standaard voor servers


Werkgroep 6
Werken met ijs - oftewel templates,
Werken in de static map, als verschillende basis die afgestemd is per gebruiker of onderwerp

Ejs zoekt naar view of views map

Ejs is puur voor server, browser zet het om naar html

Els syntax:
 <% Alles tussen %>

Alles wat je met een waarde wil opnemen:
<%= Output html geëscaleerde data: %=>

<%- Output ongeescapeerde data -%>

<%# comments #%>

Res. Locals zijn een soort variabelen in ejs templates

TO DO
EJS uitvogelen.

- voor de api data in de static file
ik moest de data.json file in de static map zetten, en dan in de script.js de fetch functie zetten.

nadat dit was gelukt heb ik een aparte map gemaakt voor de data om de api in te tonen zodat deze nu alleen te zien is bij "localhost... /data"

-----------------

WEEK 2
werkgroep 7

formulieren.
meest standaard manier is .post gebruiken, om te versturen

.Patch is om bestaande data te updaten

.delete is voor verwijderen

.put wordt niet echt gebruikt, is een beetje hetzelfde als post


.post:
{titel van data set}.post({

 })
*/ data wordt niet opgeslagen of naar een database gestuurd */

bij een form:
<form action('/') /* aangeven waar die naar toe moet */ method="..." de method wat je gebruikt, bijv post

login:
basic login functie
async function login() {
    
    const usernameInput = document.getElementById('username')
    const passwordInput = document.getElementById('password')
    
    // haal de wachtwoorden op uit het JSON-bestand
    // gebruik await omdat getCredentials async functie is
     try {
        // haal de wachtwoorden op uit het JSON-bestand
        const users = await getUsers()

        // probeer de gebruiker met de opgegeven gebruikersnaam te vinden in de array met gebruikers
        // als deze gebruiker niet bestaat zal myUser undefined zijn
        const myUser = users.find(x => x.name === usernameInput.value)
        if (myUser) {
            console.log('Gebruiker gevonden: ', myUser)
        } else {
            console.log('Gebruiker niet gevonden')
        }
        
        // controleer of we een gebruiker met deze gebruikersnaam hebben gevonden en zo ja, 
        // of het wachtwoord overeenkomt
        if (myUser && myUser.password === passwordInput.value) {
            alert('Login successful!')
        } else {
            alert('Invalid username or password')
        }
    } catch (error) {
        console.error('Er is een fout opgetreden bij het inloggen:', error)
    }
}


week 3:


MongoDB

server is weird ash

Find functie:

const db = client.db(process.env."gebruiker naam")
const collectie = db.collection(process.env."collection naam")
async funtion listAllMovies(req,res) {
    find:
    data = await collection.find().toArray()
    res.render('list.ejs',{data: data})
    
    findOne:
    // data = await colelction.findOne ({ // liever naar het object id, = accurater
        title.
    })

    insterOne:
    result = await colelction.insterOne

    update:
    const result = await collection.updateOne({
        _id:
    })

    delete:
    const result = await collection.deleteOne
}

    // // 3 database en collectie
    // const database = client.db("sample_mflix");
    // const movies = database.collection("movies");

    // // 4 zoekopdracht maken
    // const query = { runtime: { $lt: 15 } };
    // const sortFields = { title: 1 };
    // const projectFields = { _id: 0, title: 1, imdb: 1 };

    // // 5 zoeken uitvoeren
    // const cursor = movies.find(query).sort(sortFields).project(projectFields);

    // // 6 resultaten in de console.log
    // if ((await movies.countDocuments(query)) === 0) {
    //   console.log("No documents found!");
    // }

    // for await (const doc of cursor) {
    //   console.dir(doc);
    // }


Week 3 - 19 feb:

- document in MongoDB:
binnen een collection heb je meerdere documents
collection:
- users
- - {id:3123123123, naam"blabla",...} {document} <- dit is een document
- - {id:1212111212, naam"andersblabla",matches:[121212],[24523423423],...} {document} <- dit is een document
-
collection:
- personeel
- - {id:"53421", naam"danny", stad:"amsterdam"...} {document}
collection:
- steden
- - {stad:"amsterdam", personeel:[123,456,789,...]}

iedere keer als iemand registreerd, en aangeeft dat die bijvoorbeeld in amsterdam woont. voeg je de ID van die registratie toe aan de collectie van de stad, zodat je makkelijk kan matchen o.b.v. locatie, en hier niet los op hoeven filteren.
hiermee hoef je niet een paar honderd keer voor elk persoon te kijken waar ze vandaan komen, maar eerst kijken of ze uit amsterdam komen en dan pas weergeven.

is handig om beide te doen, zodat je ook nog kan kijken dat diegene uit dammie komt ook wanneer je niet filtert op stad.

je kan dit verdiepen door nog een collectie aan te maken qua type, en daarin alle id's opnieuw filteren:
collection:
- beroep:
- - {beroep:"camera":, personeel:[123,456,23434,567]}

is iets lastiger te begrijpen, maar uiteindelijk waarschijnlijk beter en mogelijk sneller.

----- hw/ oefening voor mezelf: -----
probeer een nieuw account aan te maken.
inloggen

Week 3 - 20 feb:
Security

hashing:
je begint bijvoorbeeld met een simpel wachtwoord, maar door die data te "hashen" krijg je een versleutelde reeks als: "@#$%@#$!#@DAFAfwaf" terug.

extra info API:
.json format is aangeraden
is een soort toegangpoort naar een data set.
mayeb beter kijken naar hoe geschikt de API's zijn die we voor het onderwerp gebruiken.
zoeken naar beroeps API's?
maybe hollywood apis bekijken.


extra info MongoDB:
leeftijd van de sessie:
bijv. als je op een publieke computer zit, zorgt een session leeftijd dat je na bepaalde tijd uitlogt.
een soort extra veiligheids maatregel.

req.session."..." wordt verwijderd nadat de session is afgelopen.
en is niet nuttig als er niemand ingelogd is

EINDOPDRACHT:
componenten:
- zoekpagina: gegevens uit de DB/API halen en tonen
- filteren: Gegevens filteren met bijv. selectievakjes
- account: registratie en login voor gebruikers 
- favorieten: items als favorieten opslaan in account
- matching: koppelen met "matches"

uiteindelijk volledige node omgeving als .zip inleveren, inc .env en alles/
laatste 4 weken volledig om aan de website te zitten.


----- hw/ oefening voor mezelf: -----
kijk opnieuw naar MongoDB kennisbank.
